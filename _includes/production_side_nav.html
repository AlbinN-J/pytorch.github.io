<div id="production-side-nav" class="sticky-top">
  <ul id="production-sidebar-list">
      <ul>
        <li><a href="#retail">Retail</a></li>
        <li><a href="#medical">Medical</a></li>
        <li><a href="#insurance">Insurance</a></li>
        <li><a href="#education">Education</a></li>
        <li><a href="#agriculture">Agriculture</a></li>
        <li><a href="#manufacturing">Manufacturing</a></li>
        <li><a href="#media-and-entertainment">Media & Entertainment</a></li>
        <li><a href="#fintech">Fintech</a></li>
        <li><a href="#autonomous-driving">Autonomous Driving</a></li>
      </ul>
  </ul>
</div>

<script>

  $("#production-sidebar-list li a").on("click", function(e) {
    var href = $(this).attr("href")
    $('html, body').stop().animate({
      scrollTop: $(href).offset().top - 100
    }, 850);
    (e).preventDefault;
  });

  var lastId,
    topMenu = $("#production-sidebar-list"),
    topMenuHeight = topMenu.outerHeight() + 1,
    // All sidenav items
    menuItems = topMenu.find("a"),
  // Anchors for menu items
    scrollItemsP = menuItems.map(function() {
      var item = $(this).attr("href");
      if (item.length) { return item; }
  });

  $(window).scroll(function(){
    var fromTop = $(this).scrollTop()+topMenuHeight;
    var label = '.production-section'

    $(label).each(function(i){
      var offsetScrollP = $(this).offset().top-$(window).scrollTop();
      console.log(scrollItemsP[i] == "#" + $(this).attr("id"));
      if (offsetScrollP <= topMenuHeight + 200 && offsetScrollP >= topMenuHeight - 200 && scrollItemsP[i] == "#" + $(this).attr("id")) {
        $(menuItems).removeClass("active");
        $(menuItems[i]).addClass("active");
      }
    })
  });

</script>
<script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
  